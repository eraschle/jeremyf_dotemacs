# -*- org-insert-tilde-language: emacs-lisp; -*-
#+TITLE: Tabs

Show tabs in the current window.  The tab system is something I wrestle with, but I appreciate it’s existence.  These configurations make it easier to use.

#+begin_src emacs-lisp
  (use-package centaur-tabs
    :straight t
    :commands (centaur-tabs-group-by-projectile-project)
    :commands (centaur-tabs-group-buffer-groups)
    :config
    (setq centaur-tabs-set-icons t
	  centaur-tabs-enable-ido-completion nil
	  centaur-tabs-set-modified-marker t)
    :bind
    ;; Move by group (e.g. “project”)
    ("s-[" . centaur-tabs-backward-group)
    ("s-]" . centaur-tabs-forward-group)
    ;; Move through the tabs of the group
    ("s-{" . centaur-tabs-backward-tab)
    ("s-}" . centaur-tabs-forward-tab)
    ("s-\\" . centaur-tabs-switch-group)
    ("M-s-\\" . jf/centaur-tabs-toggle-grouping))

  (defun jf/centaur-tabs-toggle-grouping ()
    (interactive)
    (if (jf/centaur-tabs-grouping-by-buffer-groups?)
	(centaur-tabs-group-by-projectile-project)
      (centaur-tabs-group-buffer-groups)))

  (defun jf/centaur-tabs-grouping-by-buffer-groups? ()
    (eq 'centaur-tabs-buffer-groups centaur-tabs-buffer-groups-function))

  (centaur-tabs-mode t)
  ;; (centaur-tabs-headline-match)


  (defun centaur-tabs-hide-tab (x)
    "Do no to show buffer X in tabs."
    (let ((name (format "%s" x)))
      (or
       ;; Current window is not dedicated window.
       (window-dedicated-p (selected-window))

       ;; Buffer name not match below blacklist.
       (string-prefix-p "*epc" name)
       (string-prefix-p "*helm" name)
       (string-prefix-p "*Helm" name)
       (string-prefix-p "*Compile-Log*" name)
       (string-prefix-p "*lsp" name)
       (string-prefix-p "*company" name)
       (string-prefix-p "*Flycheck" name)
       (string-prefix-p "*tramp" name)
       (string-prefix-p " *Mini" name)
       (string-prefix-p "*help" name)
       (string-prefix-p "*straight" name)
       (string-prefix-p " *temp" name)
       (string-prefix-p "*Help" name)
       (string-prefix-p "*mybuf" name)

       ;; Is not magit buffer.
       (and (string-prefix-p "magit" name)
	    (not (file-name-extension name)))
       )))
#+end_src
