# -*- org-insert-tilde-language: emacs-lisp; -*-
#+TITLE: Org Mode Macros
#+AUTHOR: Jeremy Friesen
#+EMAIL: jeremy@jeremyfriesen.com
#+STARTUP: showall
#+OPTIONS: toc:3


#+begin_src emacs-lisp
  (setq org-export-global-macros (list))
#+end_src

First, I’m considering swapping in and out the macros based on export context.
But I’m getting ahead of myself.

* Macro Expansion

** General

#+begin_src emacs-lisp
  (add-to-list 'org-export-global-macros
	       '("kbd" . "@@html:<kbd>@@$1@@html:</kbd>@@"))

  (add-to-list 'org-export-global-macros
	       '("date" . "@@html:<time datetime=\"$1\">@@$2@@html:</time>@@"))

  (add-to-list 'org-export-global-macros
	       '("cite" . "@@html:<cite>@@$2@@html:</cite>@@"))
#+end_src

** Hugo Specific

#+begin_src emacs-lisp
  (add-to-list 'org-export-global-macros
	       '("mention" . "@@hugo:{{< glossary key=\"@@$1@@hugo:\" >}}@@"))

  (add-to-list 'org-export-global-macros
	       '("abbr" . "@@hugo:{{< glossary key=\"@@$1@@hugo:\" abbr=\"t\" >}}@@"))

  (add-to-list 'org-export-global-macros
	       '("abbr-plural" . "@@hugo:{{< glossary key=\"@@$1@@hugo:\" abbr=\"t\" plural=\"t\" >}}@@"))

  (add-to-list 'org-export-global-macros
	       '("pdfn" . "@@html:<i class=\"dfn\">@@$1@@html:</i>@@"))

  (add-to-list 'org-export-global-macros
	       '("sidenote" . "@@hugo:{{< sidenote >}}@@$1@@hugo:{{< /sidenote >}}@@"))

  (add-to-list 'org-export-global-macros
	       '("linkToGame" . "@@hugo:{{< glossary key=\"@@$1@@hugo:\" abbr=\"t\" >}}@@"))
#+end_src
